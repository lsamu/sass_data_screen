import{c as P}from"./async-validator.1dfa3c6f.js";var O={exports:{}};(function(F){(function(A,m){var l={Identity:function(t){return t},True:function(){return!0},Blank:function(){}},p={Boolean:"boolean",Number:"number",String:"string",Object:typeof{},Undefined:typeof m,Function:"function"},R={"":l.Identity},o={createLambda:function(t){if(t==null)return l.Identity;if(typeof t===p.String){var n=R[t];if(n!=null)return n;if(t.indexOf("=>")===-1){for(var r=new RegExp("[$]+","g"),e=0,i;(i=r.exec(t))!=null;){var a=i[0].length;a>e&&(e=a)}for(var f=[],c=1;c<=e;c++){for(var v="",h=0;h<c;h++)v+="$";f.push(v)}var y=Array.prototype.join.call(f,",");return n=new Function(y,"return "+t),R[t]=n,n}else{var w=t.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return n=new Function(w[1],w[2].match(/\breturn\b/)?w[2]:"return "+w[2]),R[t]=n,n}}return t},isIEnumerable:function(t){if(typeof Enumerator!==p.Undefined)try{return new Enumerator(t),!0}catch{}return!1},defineProperty:Object.defineProperties!=null?function(t,n,r){Object.defineProperty(t,n,{enumerable:!1,configurable:!0,writable:!0,value:r})}:function(t,n,r){t[n]=r},compare:function(t,n){return t===n?0:t>n?1:-1},dispose:function(t){t!=null&&t.dispose()},hasNativeIteratorSupport:function(){return typeof Symbol<"u"&&typeof Symbol.iterator<"u"}},E={Before:0,Running:1,After:2},s=function(t,n,r){var e=new D,i=E.Before;this.current=e.current,this.moveNext=function(){try{switch(i){case E.Before:i=E.Running,t();case E.Running:return n.apply(e)?!0:(this.dispose(),!1);case E.After:return!1}}catch(a){throw this.dispose(),a}},this.dispose=function(){if(i==E.Running)try{r()}finally{i=E.After}}},D=function(){var t=null;this.current=function(){return t},this.yieldReturn=function(n){return t=n,!0},this.yieldBreak=function(){return!1}},u=function(t){this.getEnumerator=t};u.Utils={},u.Utils.createLambda=function(t){return o.createLambda(t)},u.Utils.createEnumerable=function(t){return new u(t)},u.Utils.createEnumerator=function(t,n,r){return new s(t,n,r)},u.Utils.extendTo=function(t){var n=t.prototype,r;t===Array?(r=d.prototype,o.defineProperty(n,"getSource",function(){return this})):(r=u.prototype,o.defineProperty(n,"getEnumerator",function(){return u.from(this).getEnumerator()}));for(var e in r){var i=r[e];n[e]!=i&&(n[e]!=null&&(e=e+"ByLinq",n[e]==i)||i instanceof Function&&o.defineProperty(n,e,i))}},u.Utils.recallFrom=function(t){var n=t.prototype,r;t===Array?(r=d.prototype,delete n.getSource):(r=u.prototype,delete n.getEnumerator);for(var e in r){var i=r[e];n[e+"ByLinq"]?delete n[e+"ByLinq"]:n[e]==i&&i instanceof Function&&delete n[e]}},u.choice=function(){var t=arguments;return new u(function(){return new s(function(){t=t[0]instanceof Array?t[0]:t[0].getEnumerator!=null?t[0].toArray():t},function(){return this.yieldReturn(t[Math.floor(Math.random()*t.length)])},l.Blank)})},u.cycle=function(){var t=arguments;return new u(function(){var n=0;return new s(function(){t=t[0]instanceof Array?t[0]:t[0].getEnumerator!=null?t[0].toArray():t},function(){return n>=t.length&&(n=0),this.yieldReturn(t[n++])},l.Blank)})},u.empty=function(){return new u(function(){return new s(l.Blank,function(){return!1},l.Blank)})},u.from=function(t){if(t==null)return u.empty();if(t instanceof u)return t;if(typeof t==p.Number||typeof t==p.Boolean)return u.repeat(t,1);if(typeof t==p.String)return new u(function(){var n=0;return new s(l.Blank,function(){return n<t.length?this.yieldReturn(t.charAt(n++)):!1},l.Blank)});if(typeof t!=p.Function){if(typeof t.length==p.Number)return new d(t);if(typeof Symbol<"u"&&typeof t[Symbol.iterator]<"u")return new u(function(){return new s(l.Blank,function(){var n=t.next();return n.done?!1:this.yieldReturn(n.value)},l.Blank)});if(!(t instanceof Object)&&o.isIEnumerable(t))return new u(function(){var n=!0,r;return new s(function(){r=new Enumerator(t)},function(){return n?n=!1:r.moveNext(),r.atEnd()?!1:this.yieldReturn(r.item())},l.Blank)});if(typeof Windows===p.Object&&typeof t.first===p.Function)return new u(function(){var n=!0,r;return new s(function(){r=t.first()},function(){return n?n=!1:r.moveNext(),r.hasCurrent?this.yieldReturn(r.current):this.yieldBreak()},l.Blank)})}return new u(function(){var n=[],r=0;return new s(function(){for(var e in t){var i=t[e];!(i instanceof Function)&&Object.prototype.hasOwnProperty.call(t,e)&&n.push({key:e,value:i})}},function(){return r<n.length?this.yieldReturn(n[r++]):!1},l.Blank)})},u.make=function(t){return u.repeat(t,1)},u.matches=function(t,n,r){return r==null&&(r=""),n instanceof RegExp&&(r+=n.ignoreCase?"i":"",r+=n.multiline?"m":"",n=n.source),r.indexOf("g")===-1&&(r+="g"),new u(function(){var e;return new s(function(){e=new RegExp(n,r)},function(){var i=e.exec(t);return i?this.yieldReturn(i):!1},l.Blank)})},u.range=function(t,n,r){return r==null&&(r=1),new u(function(){var e,i=0;return new s(function(){e=t-r},function(){return i++<n?this.yieldReturn(e+=r):this.yieldBreak()},l.Blank)})},u.rangeDown=function(t,n,r){return r==null&&(r=1),new u(function(){var e,i=0;return new s(function(){e=t+r},function(){return i++<n?this.yieldReturn(e-=r):this.yieldBreak()},l.Blank)})},u.rangeTo=function(t,n,r){return r==null&&(r=1),t<n?new u(function(){var e;return new s(function(){e=t-r},function(){var i=e+=r;return i<=n?this.yieldReturn(i):this.yieldBreak()},l.Blank)}):new u(function(){var e;return new s(function(){e=t+r},function(){var i=e-=r;return i>=n?this.yieldReturn(i):this.yieldBreak()},l.Blank)})},u.repeat=function(t,n){return n!=null?u.repeat(t).take(n):new u(function(){return new s(l.Blank,function(){return this.yieldReturn(t)},l.Blank)})},u.repeatWithFinalize=function(t,n){return t=o.createLambda(t),n=o.createLambda(n),new u(function(){var r;return new s(function(){r=t()},function(){return this.yieldReturn(r)},function(){r!=null&&(n(r),r=null)})})},u.generate=function(t,n){return n!=null?u.generate(t).take(n):(t=o.createLambda(t),new u(function(){return new s(l.Blank,function(){return this.yieldReturn(t())},l.Blank)}))},u.toInfinity=function(t,n){return t==null&&(t=0),n==null&&(n=1),new u(function(){var r;return new s(function(){r=t-n},function(){return this.yieldReturn(r+=n)},l.Blank)})},u.toNegativeInfinity=function(t,n){return t==null&&(t=0),n==null&&(n=1),new u(function(){var r;return new s(function(){r=t+n},function(){return this.yieldReturn(r-=n)},l.Blank)})},u.unfold=function(t,n){return n=o.createLambda(n),new u(function(){var r=!0,e;return new s(l.Blank,function(){return r?(r=!1,e=t,this.yieldReturn(e)):(e=n(e),this.yieldReturn(e))},l.Blank)})},u.defer=function(t){return new u(function(){var n;return new s(function(){n=u.from(t()).getEnumerator()},function(){return n.moveNext()?this.yieldReturn(n.current()):this.yieldBreak()},function(){o.dispose(n)})})},u.prototype.traverseBreadthFirst=function(t,n){var r=this;return t=o.createLambda(t),n=o.createLambda(n),new u(function(){var e,i=0,a=[];return new s(function(){e=r.getEnumerator()},function(){for(;;){if(e.moveNext())return a.push(e.current()),this.yieldReturn(n(e.current(),i));var f=u.from(a).selectMany(function(c){return t(c)});if(f.any())i++,a=[],o.dispose(e),e=f.getEnumerator();else return!1}},function(){o.dispose(e)})})},u.prototype.traverseDepthFirst=function(t,n){var r=this;return t=o.createLambda(t),n=o.createLambda(n),new u(function(){var e=[],i;return new s(function(){i=r.getEnumerator()},function(){for(;;){if(i.moveNext()){var a=n(i.current(),e.length);return e.push(i),i=u.from(t(i.current())).getEnumerator(),this.yieldReturn(a)}if(e.length<=0)return!1;o.dispose(i),i=e.pop()}},function(){try{o.dispose(i)}finally{u.from(e).forEach(function(a){a.dispose()})}})})},u.prototype.flatten=function(){var t=this;return new u(function(){var n,r=null;return new s(function(){n=t.getEnumerator()},function(){for(;;){if(r!=null){if(r.moveNext())return this.yieldReturn(r.current());r=null}if(n.moveNext())if(n.current()instanceof Array){o.dispose(r),r=u.from(n.current()).selectMany(l.Identity).flatten().getEnumerator();continue}else return this.yieldReturn(n.current());return!1}},function(){try{o.dispose(n)}finally{o.dispose(r)}})})},u.prototype.pairwise=function(t){var n=this;return t=o.createLambda(t),new u(function(){var r;return new s(function(){r=n.getEnumerator(),r.moveNext()},function(){var e=r.current();return r.moveNext()?this.yieldReturn(t(e,r.current())):!1},function(){o.dispose(r)})})},u.prototype.scan=function(t,n){var r;n==null?(n=o.createLambda(t),r=!1):(n=o.createLambda(n),r=!0);var e=this;return new u(function(){var i,a,f=!0;return new s(function(){i=e.getEnumerator()},function(){if(f){if(f=!1,r)return this.yieldReturn(a=t);if(i.moveNext())return this.yieldReturn(a=i.current())}return i.moveNext()?this.yieldReturn(a=n(a,i.current())):!1},function(){o.dispose(i)})})},u.prototype.select=function(t){if(t=o.createLambda(t),t.length<=1)return new x(this,null,t);var n=this;return new u(function(){var r,e=0;return new s(function(){r=n.getEnumerator()},function(){return r.moveNext()?this.yieldReturn(t(r.current(),e++)):!1},function(){o.dispose(r)})})},u.prototype.selectMany=function(t,n){var r=this;return t=o.createLambda(t),n==null&&(n=function(e,i){return i}),n=o.createLambda(n),new u(function(){var e,i=m,a=0;return new s(function(){e=r.getEnumerator()},function(){if(i===m&&!e.moveNext())return!1;do{if(i==null){var f=t(e.current(),a++);i=u.from(f).getEnumerator()}if(i.moveNext())return this.yieldReturn(n(e.current(),i.current()));o.dispose(i),i=null}while(e.moveNext());return!1},function(){try{o.dispose(e)}finally{o.dispose(i)}})})},u.prototype.where=function(t){if(t=o.createLambda(t),t.length<=1)return new b(this,t);var n=this;return new u(function(){var r,e=0;return new s(function(){r=n.getEnumerator()},function(){for(;r.moveNext();)if(t(r.current(),e++))return this.yieldReturn(r.current());return!1},function(){o.dispose(r)})})},u.prototype.choose=function(t){t=o.createLambda(t);var n=this;return new u(function(){var r,e=0;return new s(function(){r=n.getEnumerator()},function(){for(;r.moveNext();){var i=t(r.current(),e++);if(i!=null)return this.yieldReturn(i)}return this.yieldBreak()},function(){o.dispose(r)})})},u.prototype.ofType=function(t){var n;switch(t){case Number:n=p.Number;break;case String:n=p.String;break;case Boolean:n=p.Boolean;break;case Function:n=p.Function;break;default:n=null;break}return n===null?this.where(function(r){return r instanceof t}):this.where(function(r){return typeof r===n})},u.prototype.zip=function(){var t=arguments,n=o.createLambda(arguments[arguments.length-1]),r=this;if(arguments.length==2){var e=arguments[0];return new u(function(){var i,a,f=0;return new s(function(){i=r.getEnumerator(),a=u.from(e).getEnumerator()},function(){return i.moveNext()&&a.moveNext()?this.yieldReturn(n(i.current(),a.current(),f++)):!1},function(){try{o.dispose(i)}finally{o.dispose(a)}})})}else return new u(function(){var i,a=0;return new s(function(){var f=u.make(r).concat(u.from(t).takeExceptLast().select(u.from)).select(function(c){return c.getEnumerator()}).toArray();i=u.from(f)},function(){if(i.all(function(c){return c.moveNext()})){var f=i.select(function(c){return c.current()}).toArray();return f.push(a++),this.yieldReturn(n.apply(null,f))}else return this.yieldBreak()},function(){u.from(i).forEach(o.dispose)})})},u.prototype.merge=function(){var t=arguments,n=this;return new u(function(){var r,e=-1;return new s(function(){r=u.make(n).concat(u.from(t).select(u.from)).select(function(i){return i.getEnumerator()}).toArray()},function(){for(;r.length>0;){e=e>=r.length-1?0:e+1;var i=r[e];if(i.moveNext())return this.yieldReturn(i.current());i.dispose(),r.splice(e--,1)}return this.yieldBreak()},function(){u.from(r).forEach(o.dispose)})})},u.prototype.join=function(t,n,r,e,i){n=o.createLambda(n),r=o.createLambda(r),e=o.createLambda(e),i=o.createLambda(i);var a=this;return new u(function(){var f,c,v=null,h=0;return new s(function(){f=a.getEnumerator(),c=u.from(t).toLookup(r,l.Identity,i)},function(){for(;;){if(v!=null){var y=v[h++];if(y!==m)return this.yieldReturn(e(f.current(),y));y=null,h=0}if(f.moveNext()){var w=n(f.current());v=c.get(w).toArray()}else return!1}},function(){o.dispose(f)})})},u.prototype.groupJoin=function(t,n,r,e,i){n=o.createLambda(n),r=o.createLambda(r),e=o.createLambda(e),i=o.createLambda(i);var a=this;return new u(function(){var f=a.getEnumerator(),c=null;return new s(function(){f=a.getEnumerator(),c=u.from(t).toLookup(r,l.Identity,i)},function(){if(f.moveNext()){var v=c.get(n(f.current()));return this.yieldReturn(e(f.current(),v))}return!1},function(){o.dispose(f)})})},u.prototype.all=function(t){t=o.createLambda(t);var n=!0;return this.forEach(function(r){if(!t(r))return n=!1,!1}),n},u.prototype.any=function(t){t=o.createLambda(t);var n=this.getEnumerator();try{if(arguments.length==0)return n.moveNext();for(;n.moveNext();)if(t(n.current()))return!0;return!1}finally{o.dispose(n)}},u.prototype.isEmpty=function(){return!this.any()},u.prototype.concat=function(){var t=this;if(arguments.length==1){var n=arguments[0];return new u(function(){var e,i;return new s(function(){e=t.getEnumerator()},function(){if(i==null){if(e.moveNext())return this.yieldReturn(e.current());i=u.from(n).getEnumerator()}return i.moveNext()?this.yieldReturn(i.current()):!1},function(){try{o.dispose(e)}finally{o.dispose(i)}})})}else{var r=arguments;return new u(function(){var e;return new s(function(){e=u.make(t).concat(u.from(r).select(u.from)).select(function(i){return i.getEnumerator()}).toArray()},function(){for(;e.length>0;){var i=e[0];if(i.moveNext())return this.yieldReturn(i.current());i.dispose(),e.splice(0,1)}return this.yieldBreak()},function(){u.from(e).forEach(o.dispose)})})}},u.prototype.insert=function(t,n){var r=this;return new u(function(){var e,i,a=0,f=!1;return new s(function(){e=r.getEnumerator(),i=u.from(n).getEnumerator()},function(){return a==t&&i.moveNext()?(f=!0,this.yieldReturn(i.current())):e.moveNext()?(a++,this.yieldReturn(e.current())):!f&&i.moveNext()?this.yieldReturn(i.current()):!1},function(){try{o.dispose(e)}finally{o.dispose(i)}})})},u.prototype.alternate=function(t){var n=this;return new u(function(){var r,e,i,a;return new s(function(){t instanceof Array||t.getEnumerator!=null?i=u.from(u.from(t).toArray()):i=u.make(t),e=n.getEnumerator(),e.moveNext()&&(r=e.current())},function(){for(;;){if(a!=null){if(a.moveNext())return this.yieldReturn(a.current());a=null}if(r==null&&e.moveNext()){r=e.current(),a=i.getEnumerator();continue}else if(r!=null){var f=r;return r=null,this.yieldReturn(f)}return this.yieldBreak()}},function(){try{o.dispose(e)}finally{o.dispose(a)}})})},u.prototype.contains=function(t,n){n=o.createLambda(n);var r=this.getEnumerator();try{for(;r.moveNext();)if(n(r.current())===t)return!0;return!1}finally{o.dispose(r)}},u.prototype.defaultIfEmpty=function(t){var n=this;return t===m&&(t=null),new u(function(){var r,e=!0;return new s(function(){r=n.getEnumerator()},function(){return r.moveNext()?(e=!1,this.yieldReturn(r.current())):e?(e=!1,this.yieldReturn(t)):!1},function(){o.dispose(r)})})},u.prototype.distinct=function(t){return this.except(u.empty(),t)},u.prototype.distinctUntilChanged=function(t){t=o.createLambda(t);var n=this;return new u(function(){var r,e;return new s(function(){r=n.getEnumerator()},function(){for(;r.moveNext();){var i=t(r.current());if(e!==i)return e=i,this.yieldReturn(r.current())}return this.yieldBreak()},function(){o.dispose(r)})})},u.prototype.except=function(t,n){n=o.createLambda(n);var r=this;return new u(function(){var e,i;return new s(function(){e=r.getEnumerator(),i=new L(n),u.from(t).forEach(function(a){i.add(a)})},function(){for(;e.moveNext();){var a=e.current();if(!i.contains(a))return i.add(a),this.yieldReturn(a)}return!1},function(){o.dispose(e)})})},u.prototype.intersect=function(t,n){n=o.createLambda(n);var r=this;return new u(function(){var e,i,a;return new s(function(){e=r.getEnumerator(),i=new L(n),u.from(t).forEach(function(f){i.add(f)}),a=new L(n)},function(){for(;e.moveNext();){var f=e.current();if(!a.contains(f)&&i.contains(f))return a.add(f),this.yieldReturn(f)}return!1},function(){o.dispose(e)})})},u.prototype.sequenceEqual=function(t,n){n=o.createLambda(n);var r=this.getEnumerator();try{var e=u.from(t).getEnumerator();try{for(;r.moveNext();)if(!e.moveNext()||n(r.current())!==n(e.current()))return!1;return!e.moveNext()}finally{o.dispose(e)}}finally{o.dispose(r)}},u.prototype.union=function(t,n){n=o.createLambda(n);var r=this;return new u(function(){var e,i,a;return new s(function(){e=r.getEnumerator(),a=new L(n)},function(){var f;if(i===m){for(;e.moveNext();)if(f=e.current(),!a.contains(f))return a.add(f),this.yieldReturn(f);i=u.from(t).getEnumerator()}for(;i.moveNext();)if(f=i.current(),!a.contains(f))return a.add(f),this.yieldReturn(f);return!1},function(){try{o.dispose(e)}finally{o.dispose(i)}})})},u.prototype.orderBy=function(t,n){return new g(this,t,n,!1)},u.prototype.orderByDescending=function(t,n){return new g(this,t,n,!0)},u.prototype.reverse=function(){var t=this;return new u(function(){var n,r;return new s(function(){n=t.toArray(),r=n.length},function(){return r>0?this.yieldReturn(n[--r]):!1},l.Blank)})},u.prototype.shuffle=function(){var t=this;return new u(function(){var n;return new s(function(){n=t.toArray()},function(){if(n.length>0){var r=Math.floor(Math.random()*n.length);return this.yieldReturn(n.splice(r,1)[0])}return!1},l.Blank)})},u.prototype.weightedSample=function(t){t=o.createLambda(t);var n=this;return new u(function(){var r,e=0;return new s(function(){r=n.choose(function(i){var a=t(i);return a<=0?null:(e+=a,{value:i,bound:e})}).toArray()},function(){if(r.length>0){for(var i=Math.floor(Math.random()*e)+1,a=-1,f=r.length;f-a>1;){var c=Math.floor((a+f)/2);r[c].bound>=i?f=c:a=c}return this.yieldReturn(r[f].value)}return this.yieldBreak()},l.Blank)})},u.prototype.groupBy=function(t,n,r,e){var i=this;return t=o.createLambda(t),n=o.createLambda(n),r!=null&&(r=o.createLambda(r)),e=o.createLambda(e),new u(function(){var a;return new s(function(){a=i.toLookup(t,n,e).toEnumerable().getEnumerator()},function(){for(;a.moveNext();)return r==null?this.yieldReturn(a.current()):this.yieldReturn(r(a.current().key(),a.current()));return!1},function(){o.dispose(a)})})},u.prototype.partitionBy=function(t,n,r,e){var i=this;t=o.createLambda(t),n=o.createLambda(n),e=o.createLambda(e);var a;return r==null?(a=!1,r=function(f,c){return new B(f,c)}):(a=!0,r=o.createLambda(r)),new u(function(){var f,c,v,h=[];return new s(function(){f=i.getEnumerator(),f.moveNext()&&(c=t(f.current()),v=e(c),h.push(n(f.current())))},function(){for(var y;(y=f.moveNext())==!0&&v===e(t(f.current()));)h.push(n(f.current()));if(h.length>0){var w=a?r(c,u.from(h)):r(c,h);return y?(c=t(f.current()),v=e(c),h=[n(f.current())]):h=[],this.yieldReturn(w)}return!1},function(){o.dispose(f)})})},u.prototype.buffer=function(t){var n=this;return new u(function(){var r;return new s(function(){r=n.getEnumerator()},function(){for(var e=[],i=0;r.moveNext();)if(e.push(r.current()),++i>=t)return this.yieldReturn(e);return e.length>0?this.yieldReturn(e):!1},function(){o.dispose(r)})})},u.prototype.aggregate=function(t,n,r){return r=o.createLambda(r),r(this.scan(t,n,r).last())},u.prototype.average=function(t){t=o.createLambda(t);var n=0,r=0;return this.forEach(function(e){n+=t(e),++r}),n/r},u.prototype.count=function(t){t=t==null?l.True:o.createLambda(t);var n=0;return this.forEach(function(r,e){t(r,e)&&++n}),n},u.prototype.max=function(t){return t==null&&(t=l.Identity),this.select(t).aggregate(function(n,r){return n>r?n:r})},u.prototype.min=function(t){return t==null&&(t=l.Identity),this.select(t).aggregate(function(n,r){return n<r?n:r})},u.prototype.maxBy=function(t){return t=o.createLambda(t),this.aggregate(function(n,r){return t(n)>t(r)?n:r})},u.prototype.minBy=function(t){return t=o.createLambda(t),this.aggregate(function(n,r){return t(n)<t(r)?n:r})},u.prototype.sum=function(t){return t==null&&(t=l.Identity),this.select(t).aggregate(0,function(n,r){return n+r})},u.prototype.elementAt=function(t){var n,r=!1;if(this.forEach(function(e,i){if(i==t)return n=e,r=!0,!1}),!r)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return n},u.prototype.elementAtOrDefault=function(t,n){n===m&&(n=null);var r,e=!1;return this.forEach(function(i,a){if(a==t)return r=i,e=!0,!1}),e?r:n},u.prototype.first=function(t){if(t!=null)return this.where(t).first();var n,r=!1;if(this.forEach(function(e){return n=e,r=!0,!1}),!r)throw new Error("first:No element satisfies the condition.");return n},u.prototype.firstOrDefault=function(t,n){if(t!==m){if(typeof t===p.Function||typeof o.createLambda(t)===p.Function)return this.where(t).firstOrDefault(m,n);n=t}var r,e=!1;return this.forEach(function(i){return r=i,e=!0,!1}),e?r:n},u.prototype.last=function(t){if(t!=null)return this.where(t).last();var n,r=!1;if(this.forEach(function(e){r=!0,n=e}),!r)throw new Error("last:No element satisfies the condition.");return n},u.prototype.lastOrDefault=function(t,n){if(t!==m){if(typeof t===p.Function||typeof o.createLambda(t)===p.Function)return this.where(t).lastOrDefault(m,n);n=t}var r,e=!1;return this.forEach(function(i){e=!0,r=i}),e?r:n},u.prototype.single=function(t){if(t!=null)return this.where(t).single();var n,r=!1;if(this.forEach(function(e){if(!r)r=!0,n=e;else throw new Error("single:sequence contains more than one element.")}),!r)throw new Error("single:No element satisfies the condition.");return n},u.prototype.singleOrDefault=function(t,n){if(n===m&&(n=null),t!=null)return this.where(t).singleOrDefault(null,n);var r,e=!1;return this.forEach(function(i){if(!e)e=!0,r=i;else throw new Error("single:sequence contains more than one element.")}),e?r:n},u.prototype.skip=function(t){var n=this;return new u(function(){var r,e=0;return new s(function(){for(r=n.getEnumerator();e++<t&&r.moveNext(););},function(){return r.moveNext()?this.yieldReturn(r.current()):!1},function(){o.dispose(r)})})},u.prototype.skipWhile=function(t){t=o.createLambda(t);var n=this;return new u(function(){var r,e=0,i=!1;return new s(function(){r=n.getEnumerator()},function(){for(;!i;)if(r.moveNext()){if(!t(r.current(),e++))return i=!0,this.yieldReturn(r.current());continue}else return!1;return r.moveNext()?this.yieldReturn(r.current()):!1},function(){o.dispose(r)})})},u.prototype.take=function(t){var n=this;return new u(function(){var r,e=0;return new s(function(){r=n.getEnumerator()},function(){return e++<t&&r.moveNext()?this.yieldReturn(r.current()):!1},function(){o.dispose(r)})})},u.prototype.takeWhile=function(t){t=o.createLambda(t);var n=this;return new u(function(){var r,e=0;return new s(function(){r=n.getEnumerator()},function(){return r.moveNext()&&t(r.current(),e++)?this.yieldReturn(r.current()):!1},function(){o.dispose(r)})})},u.prototype.takeExceptLast=function(t){t==null&&(t=1);var n=this;return new u(function(){if(t<=0)return n.getEnumerator();var r,e=[];return new s(function(){r=n.getEnumerator()},function(){for(;r.moveNext();){if(e.length==t)return e.push(r.current()),this.yieldReturn(e.shift());e.push(r.current())}return!1},function(){o.dispose(r)})})},u.prototype.takeFromLast=function(t){if(t<=0||t==null)return u.empty();var n=this;return new u(function(){var r,e,i=[];return new s(function(){r=n.getEnumerator()},function(){for(;r.moveNext();)i.length==t&&i.shift(),i.push(r.current());return e==null&&(e=u.from(i).getEnumerator()),e.moveNext()?this.yieldReturn(e.current()):!1},function(){o.dispose(e)})})},u.prototype.indexOf=function(t){var n=null;return typeof t===p.Function?this.forEach(function(r,e){if(t(r,e))return n=e,!1}):this.forEach(function(r,e){if(r===t)return n=e,!1}),n!==null?n:-1},u.prototype.lastIndexOf=function(t){var n=-1;return typeof t===p.Function?this.forEach(function(r,e){t(r,e)&&(n=e)}):this.forEach(function(r,e){r===t&&(n=e)}),n},u.prototype.cast=function(){return this},u.prototype.asEnumerable=function(){return u.from(this)},u.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},u.prototype.toLookup=function(t,n,r){t=o.createLambda(t),n=o.createLambda(n),r=o.createLambda(r);var e=new L(r);return this.forEach(function(i){var a=t(i),f=n(i),c=e.get(a);c!==m?c.push(f):e.add(a,[f])}),new I(e)},u.prototype.toObject=function(t,n){t=o.createLambda(t),n=o.createLambda(n);var r={};return this.forEach(function(e){r[t(e)]=n(e)}),r},u.prototype.toDictionary=function(t,n,r){t=o.createLambda(t),n=o.createLambda(n),r=o.createLambda(r);var e=new L(r);return this.forEach(function(i){e.add(t(i),n(i))}),e},u.prototype.toJSONString=function(t,n){if(typeof JSON===p.Undefined||JSON.stringify==null)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),t,n)},u.prototype.toJoinedString=function(t,n){return t==null&&(t=""),n==null&&(n=l.Identity),this.select(n).toArray().join(t)},u.prototype.doAction=function(t){var n=this;return t=o.createLambda(t),new u(function(){var r,e=0;return new s(function(){r=n.getEnumerator()},function(){return r.moveNext()?(t(r.current(),e++),this.yieldReturn(r.current())):!1},function(){o.dispose(r)})})},u.prototype.forEach=function(t){t=o.createLambda(t);var n=0,r=this.getEnumerator();try{for(;r.moveNext()&&t(r.current(),n++)!==!1;);}finally{o.dispose(r)}},u.prototype.write=function(t,n){t==null&&(t=""),n=o.createLambda(n);var r=!0;this.forEach(function(e){r?r=!1:document.write(t),document.write(n(e))})},u.prototype.writeLine=function(t){t=o.createLambda(t),this.forEach(function(n){document.writeln(t(n)+"<br />")})},u.prototype.force=function(){var t=this.getEnumerator();try{for(;t.moveNext(););}finally{o.dispose(t)}},u.prototype.letBind=function(t){t=o.createLambda(t);var n=this;return new u(function(){var r;return new s(function(){r=u.from(t(n)).getEnumerator()},function(){return r.moveNext()?this.yieldReturn(r.current()):!1},function(){o.dispose(r)})})},u.prototype.share=function(){var t=this,n,r=!1;return new N(function(){return new s(function(){n==null&&(n=t.getEnumerator())},function(){if(r)throw new Error("enumerator is disposed");return n.moveNext()?this.yieldReturn(n.current()):!1},l.Blank)},function(){r=!0,o.dispose(n)})},u.prototype.memoize=function(){var t=this,n,r,e=!1;return new N(function(){var i=-1;return new s(function(){r==null&&(r=t.getEnumerator(),n=[])},function(){if(e)throw new Error("enumerator is disposed");return i++,n.length<=i?r.moveNext()?this.yieldReturn(n[i]=r.current()):!1:this.yieldReturn(n[i])},l.Blank)},function(){e=!0,o.dispose(r),n=null})},o.hasNativeIteratorSupport()&&(u.prototype[Symbol.iterator]=function(){return{enumerator:this.getEnumerator(),next:function(){return this.enumerator.moveNext()?{done:!1,value:this.enumerator.current()}:{done:!0}}}}),u.prototype.catchError=function(t){t=o.createLambda(t);var n=this;return new u(function(){var r;return new s(function(){r=n.getEnumerator()},function(){try{return r.moveNext()?this.yieldReturn(r.current()):!1}catch(e){return t(e),!1}},function(){o.dispose(r)})})},u.prototype.finallyAction=function(t){t=o.createLambda(t);var n=this;return new u(function(){var r;return new s(function(){r=n.getEnumerator()},function(){return r.moveNext()?this.yieldReturn(r.current()):!1},function(){try{o.dispose(r)}finally{t()}})})},u.prototype.log=function(t){return t=o.createLambda(t),this.doAction(function(n){typeof console!==p.Undefined&&console.log(t(n))})},u.prototype.trace=function(t,n){return t==null&&(t="Trace"),n=o.createLambda(n),this.doAction(function(r){typeof console!==p.Undefined&&console.log(t,n(r))})};var g=function(t,n,r,e,i){this.source=t,this.keySelector=o.createLambda(n),this.descending=e,this.parent=i,r&&(this.comparer=o.createLambda(r))};g.prototype=new u,g.prototype.createOrderedEnumerable=function(t,n,r){return new g(this.source,t,n,r,this)},g.prototype.thenBy=function(t,n){return this.createOrderedEnumerable(t,n,!1)},g.prototype.thenByDescending=function(t,n){return this.createOrderedEnumerable(t,n,!0)},g.prototype.getEnumerator=function(){var t=this,n,r,e=0;return new s(function(){n=[],r=[],t.source.forEach(function(a,f){n.push(a),r.push(f)});var i=k.create(t,null);i.GenerateKeys(n),r.sort(function(a,f){return i.compare(a,f)})},function(){return e<r.length?this.yieldReturn(n[r[e++]]):!1},l.Blank)};var k=function(t,n,r,e){this.keySelector=t,this.descending=r,this.child=e,this.comparer=n,this.keys=null};k.create=function(t,n){var r=new k(t.keySelector,t.comparer,t.descending,n);return t.parent!=null?k.create(t.parent,r):r},k.prototype.GenerateKeys=function(t){for(var n=t.length,r=this.keySelector,e=new Array(n),i=0;i<n;i++)e[i]=r(t[i]);this.keys=e,this.child!=null&&this.child.GenerateKeys(t)},k.prototype.compare=function(t,n){var r=this.comparer?this.comparer(this.keys[t],this.keys[n]):o.compare(this.keys[t],this.keys[n]);return r==0?this.child!=null?this.child.compare(t,n):o.compare(t,n):this.descending?-r:r};var N=function(t,n){this.dispose=n,u.call(this,t)};N.prototype=new u;var d=function(t){this.getSource=function(){return t}};d.prototype=new u,d.prototype.any=function(t){return t==null?this.getSource().length>0:u.prototype.any.apply(this,arguments)},d.prototype.count=function(t){return t==null?this.getSource().length:u.prototype.count.apply(this,arguments)},d.prototype.elementAt=function(t){var n=this.getSource();return 0<=t&&t<n.length?n[t]:u.prototype.elementAt.apply(this,arguments)},d.prototype.elementAtOrDefault=function(t,n){n===m&&(n=null);var r=this.getSource();return 0<=t&&t<r.length?r[t]:n},d.prototype.first=function(t){var n=this.getSource();return t==null&&n.length>0?n[0]:u.prototype.first.apply(this,arguments)},d.prototype.firstOrDefault=function(t,n){if(t!==m)return u.prototype.firstOrDefault.apply(this,arguments);n=t;var r=this.getSource();return r.length>0?r[0]:n},d.prototype.last=function(t){var n=this.getSource();return t==null&&n.length>0?n[n.length-1]:u.prototype.last.apply(this,arguments)},d.prototype.lastOrDefault=function(t,n){if(t!==m)return u.prototype.lastOrDefault.apply(this,arguments);n=t;var r=this.getSource();return r.length>0?r[r.length-1]:n},d.prototype.skip=function(t){var n=this.getSource();return new u(function(){var r;return new s(function(){r=t<0?0:t},function(){return r<n.length?this.yieldReturn(n[r++]):!1},l.Blank)})},d.prototype.takeExceptLast=function(t){return t==null&&(t=1),this.take(this.getSource().length-t)},d.prototype.takeFromLast=function(t){return this.skip(this.getSource().length-t)},d.prototype.reverse=function(){var t=this.getSource();return new u(function(){var n;return new s(function(){n=t.length},function(){return n>0?this.yieldReturn(t[--n]):!1},l.Blank)})},d.prototype.sequenceEqual=function(t,n){return(t instanceof d||t instanceof Array)&&n==null&&u.from(t).count()!=this.count()?!1:u.prototype.sequenceEqual.apply(this,arguments)},d.prototype.toJoinedString=function(t,n){var r=this.getSource();return n!=null||!(r instanceof Array)?u.prototype.toJoinedString.apply(this,arguments):(t==null&&(t=""),r.join(t))},d.prototype.getEnumerator=function(){var t=this.getSource(),n=-1;return{current:function(){return t[n]},moveNext:function(){return++n<t.length},dispose:l.Blank}};var b=function(t,n){this.prevSource=t,this.prevPredicate=n};b.prototype=new u,b.prototype.where=function(t){if(t=o.createLambda(t),t.length<=1){var n=this.prevPredicate,r=function(e){return n(e)&&t(e)};return new b(this.prevSource,r)}else return u.prototype.where.call(this,t)},b.prototype.select=function(t){return t=o.createLambda(t),t.length<=1?new x(this.prevSource,this.prevPredicate,t):u.prototype.select.call(this,t)},b.prototype.getEnumerator=function(){var t=this.prevPredicate,n=this.prevSource,r;return new s(function(){r=n.getEnumerator()},function(){for(;r.moveNext();)if(t(r.current()))return this.yieldReturn(r.current());return!1},function(){o.dispose(r)})};var x=function(t,n,r){this.prevSource=t,this.prevPredicate=n,this.prevSelector=r};x.prototype=new u,x.prototype.where=function(t){return t=o.createLambda(t),t.length<=1?new b(this,t):u.prototype.where.call(this,t)},x.prototype.select=function(t){if(t=o.createLambda(t),t.length<=1){var n=this.prevSelector,r=function(e){return t(n(e))};return new x(this.prevSource,this.prevPredicate,r)}else return u.prototype.select.call(this,t)},x.prototype.getEnumerator=function(){var t=this.prevPredicate,n=this.prevSelector,r=this.prevSource,e;return new s(function(){e=r.getEnumerator()},function(){for(;e.moveNext();)if(t==null||t(e.current()))return this.yieldReturn(n(e.current()));return!1},function(){o.dispose(e)})};var L=function(){var t=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)},n=function(a){return a===null?"null":a===m?"undefined":typeof a.toString===p.Function?a.toString():Object.prototype.toString.call(a)},r=function(a,f){this.key=a,this.value=f,this.prev=null,this.next=null},e=function(){this.first=null,this.last=null};e.prototype={addLast:function(a){this.last!=null?(this.last.next=a,a.prev=this.last,this.last=a):this.first=this.last=a},replace:function(a,f){a.prev!=null?(a.prev.next=f,f.prev=a.prev):this.first=f,a.next!=null?(a.next.prev=f,f.next=a.next):this.last=f},remove:function(a){a.prev!=null?a.prev.next=a.next:this.first=a.next,a.next!=null?a.next.prev=a.prev:this.last=a.prev}};var i=function(a){this.countField=0,this.entryList=new e,this.buckets={},this.compareSelector=a==null?l.Identity:a};return i.prototype={add:function(a,f){var c=this.compareSelector(a),v=n(c),h=new r(a,f);if(t(this.buckets,v)){for(var y=this.buckets[v],w=0;w<y.length;w++)if(this.compareSelector(y[w].key)===c){this.entryList.replace(y[w],h),y[w]=h;return}y.push(h)}else this.buckets[v]=[h];this.countField++,this.entryList.addLast(h)},get:function(a){var f=this.compareSelector(a),c=n(f);if(!t(this.buckets,c))return m;for(var v=this.buckets[c],h=0;h<v.length;h++){var y=v[h];if(this.compareSelector(y.key)===f)return y.value}return m},set:function(a,f){var c=this.compareSelector(a),v=n(c);if(t(this.buckets,v)){for(var h=this.buckets[v],y=0;y<h.length;y++)if(this.compareSelector(h[y].key)===c){var w=new r(a,f);return this.entryList.replace(h[y],w),h[y]=w,!0}}return!1},contains:function(a){var f=this.compareSelector(a),c=n(f);if(!t(this.buckets,c))return!1;for(var v=this.buckets[c],h=0;h<v.length;h++)if(this.compareSelector(v[h].key)===f)return!0;return!1},clear:function(){this.countField=0,this.buckets={},this.entryList=new e},remove:function(a){var f=this.compareSelector(a),c=n(f);if(!!t(this.buckets,c)){for(var v=this.buckets[c],h=0;h<v.length;h++)if(this.compareSelector(v[h].key)===f){this.entryList.remove(v[h]),v.splice(h,1),v.length==0&&delete this.buckets[c],this.countField--;return}}},count:function(){return this.countField},toEnumerable:function(){var a=this;return new u(function(){var f;return new s(function(){f=a.entryList.first},function(){if(f!=null){var c={key:f.key,value:f.value};return f=f.next,this.yieldReturn(c)}return!1},l.Blank)})}},i}(),I=function(t){this.count=function(){return t.count()},this.get=function(n){return u.from(t.get(n))},this.contains=function(n){return t.contains(n)},this.toEnumerable=function(){return t.toEnumerable().select(function(n){return new B(n.key,n.value)})}},B=function(t,n){this.key=function(){return t},d.call(this,n)};B.prototype=new d,typeof m===p.Function&&m.amd?m("linqjs",[],function(){return u}):p.Undefined!=="object"&&F.exports?F.exports=u:A.Enumerable=u})(P)})(O);const q=O.exports;export{q as E};
